!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(self,(function(){return(()=>{"use strict";var t={14:(t,e,r)=>{t.exports=r.p+"83811d7190b85384cff4.js"}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}return r.p="/includes/",(()=>{var t=r(14),e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},e(t,r)};function n(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}function o(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function a(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t}function u(t){return"function"==typeof t}function s(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}Object.create,Object.create;var c=s((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function f(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var l=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}var e;return t.prototype.unsubscribe=function(){var t,e,r,n,s;if(!this.closed){this.closed=!0;var f=this._parentage;if(f)if(this._parentage=null,Array.isArray(f))try{for(var l=o(f),p=l.next();!p.done;p=l.next())p.value.remove(this)}catch(e){t={error:e}}finally{try{p&&!p.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}else f.remove(this);var h=this.initialTeardown;if(u(h))try{h()}catch(t){s=t instanceof c?t.errors:[t]}var m=this._teardowns;if(m){this._teardowns=null;try{for(var v=o(m),y=v.next();!y.done;y=v.next()){var b=y.value;try{d(b)}catch(t){s=null!=s?s:[],t instanceof c?s=a(a([],i(s)),i(t.errors)):s.push(t)}}}catch(t){r={error:t}}finally{try{y&&!y.done&&(n=v.return)&&n.call(v)}finally{if(r)throw r.error}}}if(s)throw new c(s)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)d(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(r=this._teardowns)&&void 0!==r?r:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&f(e,t)},t.prototype.remove=function(e){var r=this._teardowns;r&&f(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}();function p(t){return t instanceof l||t&&"closed"in t&&u(t.remove)&&u(t.add)&&u(t.unsubscribe)}function d(t){u(t)?t():t.unsubscribe()}l.EMPTY;var h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},m={setTimeout:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=m.delegate;return((null==r?void 0:r.setTimeout)||setTimeout).apply(void 0,a([],i(t)))},clearTimeout:function(t){var e=m.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function v(){}var y=b("C",void 0,void 0);function b(t,e,r){return{kind:t,value:e,error:r}}var g=null,w=function(t){function e(e){var r=t.call(this)||this;return r.isStopped=!1,e?(r.destination=e,p(e)&&e.add(r)):r.destination=k,r}return n(e,t),e.create=function(t,e,r){return new S(t,e,r)},e.prototype.next=function(t){this.isStopped?x(function(t){return b("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?x(b("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?x(y,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(l),S=function(t){function e(e,r,n){var o,i=t.call(this)||this;if(u(e))o=e;else if(e){var a;o=e.next,r=e.error,n=e.complete,i&&h.useDeprecatedNextContext?(a=Object.create(e)).unsubscribe=function(){return i.unsubscribe()}:a=e,o=null==o?void 0:o.bind(a),r=null==r?void 0:r.bind(a),n=null==n?void 0:n.bind(a)}return i.destination={next:o?E(o):v,error:E(null!=r?r:_),complete:n?E(n):v},i}return n(e,t),e}(w);function E(t,e){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];try{t.apply(void 0,a([],i(e)))}catch(t){h.useDeprecatedSynchronousErrorHandling?function(t){h.useDeprecatedSynchronousErrorHandling&&g&&(g.errorThrown=!0,g.error=t)}(t):function(t){m.setTimeout((function(){var e=h.onUnhandledError;if(!e)throw t;e(t)}))}(t)}}}function _(t){throw t}function x(t,e){var r=h.onStoppedNotification;r&&m.setTimeout((function(){return r(t,e)}))}var k={closed:!0,next:v,error:_,complete:v},T="function"==typeof Symbol&&Symbol.observable||"@@observable";function F(t){return t}var A=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n,o=this,i=(n=t)&&n instanceof w||function(t){return t&&u(t.next)&&u(t.error)&&u(t.complete)}(n)&&p(n)?t:new S(t,e,r);return function(t){if(h.useDeprecatedSynchronousErrorHandling){var e=!g;if(e&&(g={errorThrown:!1,error:null}),t(),e){var r=g,n=r.errorThrown,o=r.error;if(g=null,n)throw o}}else t()}((function(){var t=o,e=t.operator,r=t.source;i.add(e?e.call(i,r):r?o._subscribe(i):o._trySubscribe(i))})),i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=P(e))((function(e,n){var o;o=r.subscribe((function(e){try{t(e)}catch(t){n(t),null==o||o.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[T]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0===(r=t).length?F:1===r.length?r[0]:function(t){return r.reduce((function(t,e){return e(t)}),t)})(this);var r},t.prototype.toPromise=function(t){var e=this;return new(t=P(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function P(t){var e;return null!==(e=null!=t?t:h.Promise)&&void 0!==e?e:Promise}function M(t){return function(e){if(function(t){return u(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}var C=function(t){function e(e,r,n,o,i){var a=t.call(this,e)||this;return a.onFinalize=i,a._next=r?function(t){try{r(t)}catch(t){e.error(t)}}:t.prototype._next,a._error=o?function(t){try{o(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,a._complete=n?function(){try{n()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,a}return n(e,t),e.prototype.unsubscribe=function(){var e,r=this.closed;t.prototype.unsubscribe.call(this),!r&&(null===(e=this.onFinalize)||void 0===e||e.call(this))},e}(w),O=Array.isArray;function j(t,e,r){return r?j(t,e).pipe((n=r,o=function(t){return function(t,e){return O(e)?t.apply(void 0,a([],i(e))):t(e)}(n,t)},M((function(t,e){var r=0;t.subscribe(new C(e,(function(t){e.next(o.call(void 0,t,r++))})))})))):new A((function(r){var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(1===t.length?t[0]:t)},o=t(n);return u(e)?function(){return e(n,o)}:void 0}));var n,o}var D=s((function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}}));var N,L=function(t,e){return t.push(e),t},U=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{s(n.next(t))}catch(t){i(t)}}function u(t){try{s(n.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}s((n=n.apply(t,e||[])).next())}))},I=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},R=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))};function z(t){if(t.startsWith("h264"))return{ffmpegFormat:"mp4",mime:'video/mp4; codecs="avc1.640033'};if(t.startsWith("flac"))return{ffmpegFormat:"mp4",mime:'audio/mp4; codecs="flac"'};if(t.startsWith("mp3"))return{ffmpegFormat:"mp4",mime:'audio/mp4; codecs="mp3"'};if(t.startsWith("vorbis"))return{ffmpegFormat:"webm",mime:'audio/webm; codecs="vorbis"'};if(t.startsWith("aac"))return{ffmpegFormat:"mp4",mime:'audio/mp4; codecs="mp4a.40.2"'};if(t.startsWith("opus"))return{ffmpegFormat:"webm",mime:'audio/webm; codecs="opus"'};throw new Error("Unsupported ffmpeg format description: "+t)}self.importScripts(t),function(t){t[t.Uninitialized=1]="Uninitialized",t[t.Initializing=2]="Initializing",t[t.Idle=3]="Idle",t[t.Busy=4]="Busy"}(N||(N={}));var W=function(){function e(){this.outputDir="/output",this.ffmpegState=N.Uninitialized}return e.prototype.assertState=function(t){if(this.ffmpegState!=t)throw new Error("Expected state "+t+" but current state is "+this.ffmpegState)},e.prototype.isLoaded=function(){return!(this.ffmpegState==N.Uninitialized)},e.prototype.load=function(){return U(this,void 0,void 0,(function(){var e,r,n,o,i,a=this;return I(this,(function(u){switch(u.label){case 0:return this.assertState(N.Uninitialized),this.ffmpegState=N.Initializing,e=[],r=function(t){e.push(t)},n=function(t){e.splice(e.indexOf(t),1)},this.ffmpegLogObservable=j(r,n),o=function(t){console.log(t),"FFMPEG_END"===t&&(a.ffmpegState=N.Idle);for(var r=0,n=e;r<n.length;r++)(0,n[r])(t)},i=this,[4,createFFmpegCore({locateFile:function(e,r){return e.endsWith("ffmpeg-core.wasm")?"/includes/ffmpeg-core.wasm":e.endsWith("ffmpeg-core.worker.js")?t:r+e},printErr:o,print:o})];case 1:return i.ffmpegCore=u.sent(),this.ffmpegMain=this.ffmpegCore.cwrap("main","number",["number","number"]),this.ffmpegState=N.Idle,[2]}}))}))},e.prototype.consumeMetadata=function(){return U(this,void 0,void 0,(function(){var t,r,n,o,i,a,u,s,c,f,l,p,d;return I(this,(function(h){switch(h.label){case 0:return this.assertState(N.Idle),m=this.ffmpegLogObservable.pipe((v=function(t){return"FFMPEG_END"!==t},void 0===y&&(y=!1),M((function(t,e){t.subscribe(new C(e,(function(t){var r=v(t);(r||y)&&e.next(t),!r&&e.complete()})))}))),M((function(t,e){(function(t,e){return M(function(t,e,r,n,o){return function(n,o){var i=r,a=e,u=0;n.subscribe(new C(o,(function(e){var r=u++;a=i?t(a,e,r):(i=!0,e)}),(function(){i&&o.next(a),o.complete()})))}}(t,e,arguments.length>=2))})(L,[])(t).subscribe(e)}))),t=new Promise((function(t,e){var r=new S({next:function(e){t(e),r.unsubscribe()},error:e,complete:function(){e(new D)}});m.subscribe(r)})),this.runFFmpeg("-i","input.mkv"),[4,t];case 1:for(r=h.sent(),this.inputMetadata={durationSeconds:void 0,audioStreams:[],videoStreams:[],subtitleTracks:[],attachments:[]},n=0,o=r;n<o.length;n++)if(i=o[n],(a=i.match(e.durationRegex))&&(this.inputMetadata.durationSeconds=parseFloat(a[3])+60*parseInt(a[2])+3600*parseInt(a[1])),u=e.streamRegex.exec(i))switch(s=u.groups,c=s.id,f=s.lang,l=s.type,p=s.formatDescription,d={id:c,lang:f,formatDescription:p},l){case"Audio":this.inputMetadata.audioStreams.push(d);break;case"Video":this.inputMetadata.videoStreams.push(d);break;case"Subtitle":this.inputMetadata.subtitleTracks.push(d);break;case"Attachment":this.inputMetadata.attachments.push(d);break;default:console.warn("Ignoring non-audio/video stream",l,d)}return[2]}var m,v,y}))}))},e.prototype.reset=function(){return U(this,void 0,void 0,(function(){return I(this,(function(t){return this.ffmpegCore.FS.writeFile("input.mkv",new Uint8Array),[2]}))}))},e.prototype.writeData=function(t,e){return U(this,void 0,void 0,(function(){var r,n,o;return I(this,(function(i){return r=this.ffmpegCore.FS,n=r.readFile("input.mkv"),e+t.length>n.length&&((o=new Uint8Array(e+t.length)).set(n),n=o),n.set(t,e),r.writeFile("input.mkv",n),[2,n]}))}))},e.prototype.getInputData=function(){return U(this,void 0,void 0,(function(){return I(this,(function(t){return[2,this.ffmpegCore.FS.readFile("input.mkv")]}))}))},e.prototype.getMetadata=function(){return U(this,void 0,void 0,(function(){return I(this,(function(t){return[2,this.inputMetadata]}))}))},e.prototype.remuxChunk=function(t,e,r,n){return void 0===t&&(t=0),U(this,void 0,void 0,(function(){var o,i,a,u,s,c,f,l,p,d;return I(this,(function(h){if(0==(o=this.inputMetadata.videoStreams.filter((function(t){return t.id==r}))).length)throw Error("No video stream found with id "+r);if(i=o[0],a=z(i.formatDescription),null!=n){if(0==(c=this.inputMetadata.audioStreams.filter((function(t){return t.id==n}))).length)throw Error("No audio stream found with id "+n);u=c[0],s=z(u.formatDescription)}return f=R(R(["-ss",t.toString()],void 0===e||e==t?[]:["-to",e.toString()],!0),["-copyts","-i","input.mkv"],!1),a&&(f=f.concat(["-map",i.id,"-f",a.ffmpegFormat,"-vcodec","copy","-movflags","frag_keyframe+delay_moov+default_base_moof","video"])),s&&(f=f.concat(["-map",u.id,"-strict","-2","-f",s.ffmpegFormat,"-acodec","copy","-movflags","frag_keyframe+delay_moov+default_base_moof","audio"])),this.runFFmpeg.apply(this,f),l=this.ffmpegCore.FS,p=null,d=null,a&&(p={data:l.readFile("video"),mime:a.mime},l.unlink("video")),s&&(d={data:l.readFile("audio"),mime:s.mime},l.unlink("audio")),[2,{audioChunk:d,videoChunk:p}]}))}))},e.prototype.runFFmpeg=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n,o,i;this.assertState(N.Idle),console.log("Running ffmpeg",t),this.ffmpegState=N.Busy;try{this.ffmpegMain.apply(this,(n=this.ffmpegCore,o=e.defaultArgs.concat(t),i=n._malloc(o.length*Uint32Array.BYTES_PER_ELEMENT),o.forEach((function(t,e){var r=n.lengthBytesUTF8(t)+1,o=n._malloc(r);n.stringToUTF8(t,o,r),n.setValue(i+Uint32Array.BYTES_PER_ELEMENT*e,o,"i32")})),[o.length,i]))}catch(t){0==t.status?this.ffmpegState=N.Idle:console.error("Exception caught from entrypoint: ",t)}},e.defaultArgs=["ffmpeg","-hide_banner","-nostdin"],e.streamRegex=/\s*Stream #(?<id>\d+:\d+)\(?(?<lang>.*?)\)?: (?<type>\w+): (?<formatDescription>.*)/,e.durationRegex=/Duration: (\d+?):(\d{2}):(.+?),/,e}();const H=W,B=Symbol("Comlink.proxy"),G=Symbol("Comlink.endpoint"),Y=Symbol("Comlink.releaseProxy"),V=Symbol("Comlink.thrown"),q=t=>"object"==typeof t&&null!==t||"function"==typeof t,X=new Map([["proxy",{canHandle:t=>q(t)&&t[B],serialize(t){const{port1:e,port2:r}=new MessageChannel;return J(t,e),[r,[r]]},deserialize:t=>(t.start(),Z(t,[],undefined))}],["throw",{canHandle:t=>q(t)&&V in t,serialize({value:t}){let e;return e=t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[e,[]]},deserialize(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function J(t,e=self){e.addEventListener("message",(function r(n){if(!n||!n.data)return;const{id:o,type:i,path:a}=Object.assign({path:[]},n.data),u=(n.data.argumentList||[]).map(rt);let s;try{const e=a.slice(0,-1).reduce(((t,e)=>t[e]),t),r=a.reduce(((t,e)=>t[e]),t);switch(i){case"GET":s=r;break;case"SET":e[a.slice(-1)[0]]=rt(n.data.value),s=!0;break;case"APPLY":s=r.apply(e,u);break;case"CONSTRUCT":s=function(t){return Object.assign(t,{[B]:!0})}(new r(...u));break;case"ENDPOINT":{const{port1:e,port2:r}=new MessageChannel;J(t,r),s=function(t,e){return tt.set(t,e),t}(e,[e])}break;case"RELEASE":s=void 0;break;default:return}}catch(t){s={value:t,[V]:0}}Promise.resolve(s).catch((t=>({value:t,[V]:0}))).then((t=>{const[n,a]=et(t);e.postMessage(Object.assign(Object.assign({},n),{id:o}),a),"RELEASE"===i&&(e.removeEventListener("message",r),K(e))}))})),e.start&&e.start()}function K(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function Q(t){if(t)throw new Error("Proxy has been released and is not useable")}function Z(t,e=[],r=function(){}){let n=!1;const o=new Proxy(r,{get(r,i){if(Q(n),i===Y)return()=>nt(t,{type:"RELEASE",path:e.map((t=>t.toString()))}).then((()=>{K(t),n=!0}));if("then"===i){if(0===e.length)return{then:()=>o};const r=nt(t,{type:"GET",path:e.map((t=>t.toString()))}).then(rt);return r.then.bind(r)}return Z(t,[...e,i])},set(r,o,i){Q(n);const[a,u]=et(i);return nt(t,{type:"SET",path:[...e,o].map((t=>t.toString())),value:a},u).then(rt)},apply(r,o,i){Q(n);const a=e[e.length-1];if(a===G)return nt(t,{type:"ENDPOINT"}).then(rt);if("bind"===a)return Z(t,e.slice(0,-1));const[u,s]=$(i);return nt(t,{type:"APPLY",path:e.map((t=>t.toString())),argumentList:u},s).then(rt)},construct(r,o){Q(n);const[i,a]=$(o);return nt(t,{type:"CONSTRUCT",path:e.map((t=>t.toString())),argumentList:i},a).then(rt)}});return o}function $(t){const e=t.map(et);return[e.map((t=>t[0])),(r=e.map((t=>t[1])),Array.prototype.concat.apply([],r))];var r}const tt=new WeakMap;function et(t){for(const[e,r]of X)if(r.canHandle(t)){const[n,o]=r.serialize(t);return[{type:"HANDLER",name:e,value:n},o]}return[{type:"RAW",value:t},tt.get(t)||[]]}function rt(t){switch(t.type){case"HANDLER":return X.get(t.name).deserialize(t.value);case"RAW":return t.value}}function nt(t,e,r){return new Promise((n=>{const o=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");t.addEventListener("message",(function e(r){r.data&&r.data.id&&r.data.id===o&&(t.removeEventListener("message",e),n(r.data))})),t.start&&t.start(),t.postMessage(Object.assign({id:o},e),r)}))}J(new H)})(),{}})()}));
//# sourceMappingURL=28.js.map